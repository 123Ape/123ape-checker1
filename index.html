// This script file contains your GTD & FCFS logic

// Example GTD and FCFS Whitelist
const gtdWhitelist = [
  "0x36b13220c4a6a949fe19360902843c6be8dc8255",
  "0xfad895c9b0588901c4a7f0b1570171153b014fbd",
  "0x77b29b385ad4193caa7a388b9fe87970ed405e75",
  // Add more addresses here...
];

const fcfsWhitelist = [
  "0x8417a7e33d056dc56cf9685c7f958fad36d948c0",
  "0x8651e49e19ca9d7bb955c89afdc71a8b6a31c419",
  "0xf1f19f318904f3778c266645224a02c68cc13692",
  // Add more addresses here...
];

// Convert to Set for fast lookup
const gtdSet = new Set(gtdWhitelist.map(a => a.toLowerCase()));
const fcfsSet = new Set(fcfsWhitelist.map(a => a.toLowerCase()));

// Check eligibility
document.getElementById('checkBtn').addEventListener('click', runCheck);
document.getElementById('walletInput').addEventListener('keydown', (e) => {
  if (e.key === 'Enter') runCheck();
});

function runCheck() {
  const raw = document.getElementById('walletInput').value.trim();
  const val = raw.toLowerCase();
  const resultCard = document.getElementById('resultCard');
  const main = document.getElementById('resultMain');
  const sub = document.getElementById('resultSub');
  const icon = document.getElementById('resultIcon');

  if (!val || !val.startsWith('0x') || val.length !== 42) {
    main.innerHTML = 'âš ï¸ Invalid wallet address';
    sub.innerText = 'Make sure address starts with 0x and has 42 characters.';
    resultCard.className = 'result-card neutral';
    icon.innerText = '!';
    icon.style.color = 'orange';
    return;
  }

  // Priority: GTD (guaranteed) takes precedence
  if (gtdSet.has(val)) {
    main.innerHTML = 'âœ… You won <b>GTD Mint</b> ğŸ‰';
    sub.innerText = `Congratulations â€” this wallet is on the GTD list.`;
    resultCard.className = 'result-card success';
    icon.innerHTML = 'ğŸ¯';
    icon.style.color = 'var(--success)';
    return;
  }

  // Then FCFS
  if (fcfsSet.has(val)) {
    main.innerHTML = 'ğŸš€ You won <b>FCFS Mint</b> ğŸ”¥';
    sub.innerText = `This wallet is on the FCFS list (first-come-first-serve).`;
    resultCard.className = 'result-card success';
    icon.innerHTML = 'âš¡';
    icon.style.color = 'var(--blue)';
    return;
  }

  // Not eligible
  main.innerHTML = 'âŒ Sorry, not eligible for mint';
  sub.innerText = `No match found in GTD or FCFS lists. Double-check the address.`;
  resultCard.className = 'result-card danger';
  icon.innerHTML = 'âœ–';
  icon.style.color = 'var(--danger)';
}
